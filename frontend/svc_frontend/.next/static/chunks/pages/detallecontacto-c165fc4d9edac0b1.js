(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{3501:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/detallecontacto",function(){return r(291)}])},4586:function(e,t,r){"use strict";var n=r(5893),i=r(7294),o=r(1163),s=r(1955);t.Z=e=>{let{mostrarBotonHome:t,mostrarCerrarSesion:r}=e,a=(0,o.useRouter)(),[c,l]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(!1),[x,m]=(0,i.useState)(""),[g,f]=(0,i.useState)(!1);async function j(e){try{let t=await fetch("/api/actualizarestado",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,estado:e})});await t,t.ok&&console.log("Estado modificado con \xe9xito!")}catch(e){console.error("Error:",e)}}async function b(e){try{(await fetch("/api/borrarcuenta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})})).ok&&console.log("Estado modificado con \xe9xito!")}catch(e){console.error("Error:",e)}}async function y(){try{confirm("Estas seguro que quieres borrar la cuenta??")&&(b(c),alert("Cuenta borrada..."),s.Z.remove("isLoggedIn"),a.push("/"))}catch(e){console.error("Error:",e)}}return(0,i.useEffect)(()=>{(async()=>{l(await s.Z.get("username"))})()},[]),(0,n.jsx)("header",{style:{backgroundColor:"rgba(0, 80, 255, 0.5)",color:"white",paddingTop:"0.5px",paddingBottom:"0.5px",textAlign:"center",width:"100%"},children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",listStyleType:"none"},children:[(0,n.jsx)("li",{id:"boton-home",children:t&&(0,n.jsxs)("button",{onClick:()=>{a.push("/")},className:"btn home",children:[" ",(0,n.jsx)("img",{src:"./images/home.png",alt:"Inicio",style:{width:"40px",height:"40px"}})]})}),(0,n.jsx)("li",{style:{display:"flex",alignItems:"center"},children:r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{p(!h)},style:{marginRight:"40px"},children:"Nuevo Estado"}),h&&(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j(x),m(""),p(!1)},style:{marginRight:"40px"},children:[(0,n.jsx)("input",{type:"text",value:x,onChange:e=>{m(e.target.value)},placeholder:"Introduce tu texto"}),(0,n.jsx)("button",{type:"submit",children:"âœ…"})]}),(0,n.jsx)("img",{onClick:()=>{f(!g)},src:"./images/perfil.png",alt:"Inicio",style:{width:"30px",height:"30px",marginRight:"10px",cursor:"pointer"}}),(0,n.jsxs)("span",{style:{color:"black",marginRight:"50px"},children:[(0,n.jsx)("strong",{children:c}),g&&(0,n.jsx)("small",{children:(0,n.jsx)("button",{onClick:y,className:"botonborrarcuenta",children:"Borrar cuenta"})})]}),(0,n.jsx)("button",{onClick:()=>{s.Z.remove("isLoggedIn"),a.push("/")},className:"btn cerrar",children:"Cerrar Sesi\xf3n"})]})})]})})})}},3682:function(e,t,r){"use strict";var n=r(5893);r(7294),t.Z=()=>(0,n.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.6)",color:"white",padding:"1px",textAlign:"center",position:"fixed",bottom:0,left:0,width:"100%",boxShadow:"0px -5px 10px rgba(0, 0, 0, 0.5)"},children:(0,n.jsx)("p",{children:"\xa9 TrabajoREST [Chat ETSI v1.0.0] : Miguel \xc1ngel L\xf3pez Rodr\xedguez | F\xe9lix Vald\xe9s Medina | Juan Manuel Gonz\xe1lez Orta"})})},291:function(e,t,r){"use strict";r.r(t);var n=r(5893),i=r(7294),o=r(9008),s=r.n(o),a=r(4586),c=r(3682),l=r(1163);t.default=()=>{let e=(0,l.useRouter)(),[t,r]=(0,i.useState)(null);return(0,i.useEffect)(()=>{async function t(e){try{let t=await fetch(e);if(!t.ok)throw Error("Error al obtener detalle del cliente");let n=await t.json();r(n[0])}catch(e){console.error("Error:",e)}}e.query.id&&t("/api/obtenerdetalle?id=".concat(e.query.id)),e.query.n&&t("/api/obtenerdetalle?n=".concat(e.query.n))},[e.query.id,e.query.n]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Detalle del Contacto"}),(0,n.jsx)("link",{rel:"icon",href:"/images/chat.png"}),(0,n.jsx)("link",{rel:"stylesheet",href:"./styles/detallecontacto.css"})]}),(0,n.jsx)(a.Z,{mostrarBotonHome:!0,mostrarCerrarSesion:!0}),(0,n.jsx)("div",{className:"container my-5",children:t?(0,n.jsxs)("div",{className:"card border-0 shadow-lg",children:[(0,n.jsx)("div",{className:"card-header bg-primary text-white",children:(0,n.jsx)("h4",{className:"card-title",children:t.nombre_usu})}),(0,n.jsx)("div",{className:"card-body",children:(0,n.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,n.jsxs)("li",{className:"list-group-item",children:[(0,n.jsx)("strong",{children:"ID:"})," ",t.id]}),(0,n.jsxs)("li",{className:"list-group-item",children:[(0,n.jsx)("strong",{children:"Nombre:"})," ",t.nombre]}),(0,n.jsxs)("li",{className:"list-group-item",children:[(0,n.jsx)("strong",{children:"Apellido:"})," ",t.apellido]}),(0,n.jsxs)("li",{className:"list-group-item",children:[(0,n.jsx)("strong",{children:"Correo:"})," ",t.email]}),(0,n.jsxs)("li",{className:"list-group-item",children:[(0,n.jsx)("strong",{children:"Tel\xe9fono:"})," ",t.telefono]}),(0,n.jsx)("li",{className:"list-group-item",children:(0,n.jsx)("img",{src:t.imagen,alt:"Avatar",style:{width:"50%",height:"350px"}})}),(0,n.jsx)("li",{className:"list-group-item text-center",children:(0,n.jsx)("a",{className:"btn btn-outline-primary",href:"/listacontactos",children:"Volver"})})]})})]}):(0,n.jsx)("div",{className:"card border-0 shadow-lg",children:(0,n.jsx)("div",{className:"card-header bg-primary text-white",children:(0,n.jsx)("h4",{className:"card-title",children:"Cargando..."})})})}),(0,n.jsx)(c.Z,{})]})}},9008:function(e,t,r){e.exports=r(7828)},1163:function(e,t,r){e.exports=r(9090)},1955:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return i}});var i=function e(t,r){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var o=r[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(n[a]=t.read(s,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3501)}),_N_E=e.O()}]);